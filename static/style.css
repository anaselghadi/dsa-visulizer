:root {
    --maze-cols: 20;
    --maze-rows: 20;
    /* Responsive cell size: fits 80% of the screen width or 30px, whichever is smaller */
    --cell-size: min(30px, 80vw / var(--maze-cols));
    
    /* Color Palette */
    --color-bg: #0f172a;      /* slate-950 */
    --color-wall: #334155;    /* slate-700 */
    --color-path: #1e293b;    /* slate-900 */
    --color-start: #10b981;   /* emerald-500 */
    --color-end: #ef4444;     /* red-500 */
    --color-solve: #22d3ee;   /* cyan-400 */
    --color-visited: #fde047; /* yellow-300 */
}

#maze-container {
    display: grid;
    grid-template-columns: repeat(var(--maze-cols), var(--cell-size));
    grid-template-rows: repeat(var(--maze-rows), var(--cell-size));
    gap: 1px;
    background-color: var(--color-wall);
    border: 4px solid var(--color-wall);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.5);
    margin: 0 auto;
}

.cell {
    width: var(--cell-size);
    height: var(--cell-size);
    transition: background-color 0.3s ease, transform 0.2s ease;
    position: relative;
}

/* Hover effect for interactivity */
.cell:hover {
    filter: brightness(1.2);
    z-index: 20;
}

/* State Styling */
.path { 
    background-color: var(--color-path); 
}

.wall { 
    background-color: var(--color-wall); 
}

.start { 
    background-color: var(--color-start);
    border-radius: 4px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3), 0 0 15px var(--color-start);
    z-index: 15;
}

.end { 
    background-color: var(--color-end);
    border-radius: 4px;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3), 0 0 15px var(--color-end);
    z-index: 15;
}

/* Visited Cells (Exploration Phase) */
.visited {
    background-color: var(--color-visited);
    animation: visited-reveal 0.3s ease-out forwards;
}

/* The solution path animation */
.solution {
    background-color: var(--color-solve);
    box-shadow: 0 0 12px var(--color-solve);
    z-index: 10;
    animation: path-reveal 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

@keyframes visited-reveal {
    0% { 
        transform: scale(0.5); 
        opacity: 0;
        background-color: #fef08a; /* lighter yellow */
    }
    100% { 
        transform: scale(1); 
        opacity: 1; 
        background-color: var(--color-visited);
    }
}

@keyframes path-reveal {
    0% { 
        transform: scale(0.3); 
        border-radius: 50%;
        opacity: 0; 
    }
    100% { 
        transform: scale(1); 
        border-radius: 0%;
        opacity: 1; 
    }
}

/* Pulse effect for key points */
.start, .end {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; filter: brightness(1); }
    50% { opacity: 0.8; filter: brightness(1.2); }
    100% { opacity: 1; filter: brightness(1); }
}